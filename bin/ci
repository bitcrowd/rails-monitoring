#!/usr/bin/env ruby

module TravisRunner
  def self.execute(title, command)
    puts "== Running #{title} =="
    system command
    yield if block_given?
    raise "#{title} failed" unless $CHILD_STATUS.success?
  end
end

TravisRunner.execute 'Minitest', 'bundle exec rake test'
